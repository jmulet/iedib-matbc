window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {}; !function(){var t=function(e,n,r){var a="function"==typeof window[e];a?r&&r():n>0?window.setTimeout(function(){var a="function"==typeof window.name;a?r&&r():t(e,n-1,r)},250):console.error("Cannot wait for function ",e)},e=function(t,e){if(!document.querySelector("#"+e)){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,e&&(n.id=e),document.getElementsByTagName("head")[0].appendChild(n)}},n=function(t,e,n){if(document.querySelector("#"+e))return void(n&&n());var r=document.createElement("script");r.src=t,r.async=!1,e&&(r.id=e),n&&(r.onload=function(){n()}),document.getElementsByTagName("head")[0].appendChild(r)},r=function(t){window.MathJax&&(JXG.Options.text.useMathJax=!0);var e="jsxg";if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var n=function(t,e){for(var n=[],r=0,a=t.length;a>r;r++)n.push(e(t[r]));return n},r=function(t,e){return e<t.length?t[e].trim():null},a=function(t,e){var n=r(t,e);return null!=n?parseInt(n):null},i=function(t,e){var n=r(t,e);return null!=n?parseFloat(n):null},o=function(t){var e=this;this._elem=t,t.classList.contains("jxgbox")||t.classList.add("jxgbox");var o=t.dataset;if(this.bb=[-5,5,5,-5],o.pltBb){var s=o.pltBb.split(",");s=n(s,function(t){return parseFloat(t)}),2==s.length?this.bb=[-s[0],s[1],s[0],-s[1]]:s.length>=4&&(this.bb=[s[0],s[3],s[1],s[2]])}this.id=t.id;var d=t.querySelector('script[type="text/jessiecode"]'),l=null;if(d){var l=d.innerText;l=l.replace(/\[\[\[/g,"<<").replace(/\]\]\]/g,">>")}if(this.board=JXG.JSXGraph.initBoard(this.id,{boundingbox:this.bb,axis:!0,showCopyright:!1}),l&&e.board.jc.parse(l),o.pltFun){var s=o.pltFun.split("::");s=n(s,function(t){var e=t.split(",");return{expr:r(e,0),name:r(e,1),color:r(e,2),width:a(e,3)}});for(var c=0;c<s.length;c++){var u=s[c];this.drawFunction(u.expr,u.name,u.color,u.width)}}if(o.pltPoint){var s=o.pltPoint.split("::");s=n(s,function(t){var e=t.split(",");return{x:i(e,0),y:i(e,1),name:r(e,2),color:r(e,3),size:a(e,4)}});for(var c=0;c<s.length;c++){var u=s[c];this.drawPoint(u.x,u.y,u.name,u.color,u.size)}}if(o.pltBetween){var s=o.pltBetween.split(",");s=n(s,function(t){return JXG.getReference(e.board,t.trim())}),this.drawBetween(s[0],s[1])}e.board.update()};o.prototype={drawFunction:function(t,e,n,r){n=n||"blue",r=r||2;var a=Parser.parse(t),i=function(t){return a.evaluate({x:t})};return this.board.create("functiongraph",[i],{strokeWidth:r,name:e,strokeColor:n})},drawPoint:function(t,e,n,r,a){return r=r||"blue",a=a||3,this.board.create("point",[t,e],{size:a,name:n,fixed:!0,fillColor:r,strokeColor:r})},drawBetween:function(t,e){var r=this.board.create("curve",[[],[]],{strokeWidth:0,fillColor:"orange",fillOpacity:.3});r.updateDataArray=function(){this.dataX=[0],this.dataY=[0],this.dataX=this.dataX.concat(n(t.points,function(t){return t.usrCoords[1]})),this.dataY=this.dataY.concat(n(t.points,function(t){return t.usrCoords[2]})),this.dataX=this.dataX.concat(n(e.points,function(t){return t.usrCoords[1]})),this.dataY=this.dataY.concat(n(e.points,function(t){return t.usrCoords[2]})),this.dataX=this.dataX.concat(t.points[0].usrCoords[1]),this.dataY=this.dataY.concat(t.points[0].usrCoords[2])}},getBoard:function(){return this.board}};var s={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[e]=s;var d=function(){for(var n=0,r=t.length;r>n;n++){var a=t[n];if(!a.dataset.active){a.dataset.active="1";var i=a.getAttribute("id");i||(i="dynamic_"+Math.random().toString(32).substring(2),a.id=i);var s=new o(a);window.IB.sd[e].inst[i]=s}}};s.bind=d,s.unbind=function(){for(var t=Object.values(s.inst),e=0,n=t.length;n>e;e++)t[e].dispose();s.inst={}},d()},a=document.querySelectorAll('[role="snptd_jsxg"]');if(a.length){var i=function(){require(["jsxgraphcore"],function(t){window.JGX=t,r(a)})};e("https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css","jsxgraph.css"),t("require",15,function(){n("https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js","jsxgraphcore.js",i)})}var a=document.querySelectorAll('div[role="snptd_datatable"]');if(a.length){var o=function(){for(var t=0,e=a.length;e>t;t++){var n=$(a[t]),r=(n.querySelector('script[type="text/Datatable"]'),"dt_"+Math.random().toString(32).substring(2)),i=$('<table id="'+r+'" class="display" style="width:100%"></table>'),o=$("<thead><tr><th>Name</th><th>Age</th></tr></thead>"),s=$("<tbody></tbody>"),d=$("<tr><td>Mike</td><td>44</td></tr>"),l=$("<tr><td>Clara</td><td>14</td></tr>");i.append(o),s.append(d),s.append(l),i.append(s),n.append(i),$.Datatable("#"+r)}};e("https://piworld.es/iedib/DataTables/datatables.min.css","datatables.css"),n("https://piworld.es/iedib/DataTables/datatables.min.js","datatables.js",o)}}();