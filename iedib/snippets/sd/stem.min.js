window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {}; !function(){var t=function(n,r,e){var i="function"==typeof window[n];i?e&&e():r>0?window.setTimeout(function(){var i="function"==typeof window.name;i?e&&e():t(n,r-1,e)},250):console.error("Cannot wait for function ",n)},n=function(t,n){if(!document.querySelector("#"+n)){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=t,n&&(r.id=n),document.getElementsByTagName("head")[0].appendChild(r)}},r=function(t,n,r){if(document.querySelector("#"+n))return void(r&&r());var e=document.createElement("script");e.src=t,e.async=!1,n&&(e.id=n),r&&(e.onload=function(){r()}),document.getElementsByTagName("head")[0].appendChild(e)},e=function(t){window.MathJax&&(JXG.Options.text.useMathJax=!0);var n="jsxg";if(window.IB.sd[n])return console.error("Warning: "+n+" loaded twice."),void(window.IB.sd[n].bind&&window.IB.sd[n].bind());var r=function(t,n){for(var r=[],e=0,i=t.length;i>e;e++)r.push(n(t[e]));return r},e=function(t,n){return n<t.length?t[n].trim():null},i=function(t,n){var r=e(t,n);return null!=r?parseInt(r):null},o=function(t,n){var r=e(t,n);return null!=r?parseFloat(r):null},a=function(t){var n=this;this._elem=t,t.classList.contains("jxgbox")||t.classList.add("jxgbox");var a=t.dataset;if(this.bb=[-5,5,5,-5],a.pltBb){var s=a.pltBb.split(",");s=r(s,function(t){return parseFloat(t)}),2==s.length?this.bb=[-s[0],s[1],s[0],-s[1]]:s.length>=4&&(this.bb=[s[0],s[3],s[1],s[2]])}this.id=t.id;var d=t.querySelector('script[type="text/jessiecode"]'),c=null;if(d){var c=d.innerText;c=c.replace(/\[\[\[/g,"<<").replace(/\]\]\]/g,">>")}if(this.board=JXG.JSXGraph.initBoard(this.id,{boundingbox:this.bb,axis:!0,showCopyright:!1}),c&&n.board.jc.parse(c),a.pltFun){var s=a.pltFun.split("::");s=r(s,function(t){var n=t.split(",");return{expr:e(n,0),name:e(n,1),color:e(n,2),width:i(n,3)}});for(var u=0;u<s.length;u++){var l=s[u];this.drawFunction(l.expr,l.name,l.color,l.width)}}if(a.pltPoint){var s=a.pltPoint.split("::");s=r(s,function(t){var n=t.split(",");return{x:o(n,0),y:o(n,1),name:e(n,2),color:e(n,3),size:i(n,4)}});for(var u=0;u<s.length;u++){var l=s[u];this.drawPoint(l.x,l.y,l.name,l.color,l.size)}}if(a.pltBetween){var s=a.pltBetween.split(",");s=r(s,function(t){return JXG.getReference(n.board,t.trim())}),this.drawBetween(s[0],s[1])}n.board.update()};a.prototype={drawFunction:function(t,n,r,e){r=r||"blue",e=e||2;var i=Parser.parse(t),o=function(t){return i.evaluate({x:t})};return this.board.create("functiongraph",[o],{strokeWidth:e,name:n,strokeColor:r})},drawPoint:function(t,n,r,e,i){return e=e||"blue",i=i||3,this.board.create("point",[t,n],{size:i,name:r,fixed:!0,fillColor:e,strokeColor:e})},drawBetween:function(t,n){var e=this.board.create("curve",[[],[]],{strokeWidth:0,fillColor:"orange",fillOpacity:.3});e.updateDataArray=function(){this.dataX=[0],this.dataY=[0],this.dataX=this.dataX.concat(r(t.points,function(t){return t.usrCoords[1]})),this.dataY=this.dataY.concat(r(t.points,function(t){return t.usrCoords[2]})),this.dataX=this.dataX.concat(r(n.points,function(t){return t.usrCoords[1]})),this.dataY=this.dataY.concat(r(n.points,function(t){return t.usrCoords[2]})),this.dataX=this.dataX.concat(t.points[0].usrCoords[1]),this.dataY=this.dataY.concat(t.points[0].usrCoords[2])}},getBoard:function(){return this.board}};var s={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[n]=s;var d=function(){for(var r=0,e=t.length;e>r;r++){var i=t[r];if(!i.dataset.active){i.dataset.active="1";var o=i.getAttribute("id");o||(o="dynamic_"+Math.random().toString(32).substring(2),i.id=o);var s=new a(i);window.IB.sd[n].inst[o]=s}}};s.bind=d,s.unbind=function(){for(var t=Object.values(s.inst),n=0,r=t.length;r>n;n++)t[n].dispose();s.inst={}},d()},i=document.querySelectorAll('[role="snptd_jsxg"]');if(i.length){var o=function(){require(["jsxgraphcore"],function(t){window.JGX=t,e(i)})};n("https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css","jsxgraph.css"),t("require",15,function(){r("https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js","jsxgraphcore.js",o)})}}();