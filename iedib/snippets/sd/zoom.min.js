!function(){"use strict";function e(t,n,o,r){r=r||0;var i=window;i[t]&&"function"==typeof i[t]?n&&n():r>15?o&&o():window.setTimeout((function(){e(t,n,o,r+1)}),50*(r+1))}function t(e,t){if(e&&"number"==typeof e)return e;if(!e||!(e+"").trim())return t;try{var n=parseInt(e+"");if(!isNaN(n))return n}catch(e){}return t}function n(e){e.forEach((function(e){var t=window.IB;if(e.meta){var n=e.meta;if(t.sd[n.name]&&"function"==typeof t.sd[n.name].init)return console.error("Warning: component '".concat(n.name,"' loaded twice.")),void t.sd[n.name].init();!function o(){var r;t.sd[n.name]=t.sd[n.name]||{inst:{},_class:e,init:o,dispose:null};var i=null!==(r=n.query)&&void 0!==r?r:'div[role="snptd_'.concat(n.name,'"], div[data-snptd="').concat(n.name,'"]');if("body"===i){if(t.sd[n.name].singl)return void console.error("Singleton already defined");var a=document.querySelector("body"),u=new e(a);u.init(),t.sd[n.name].singl=u,"_init: Initialized singleton '".concat(n.name,"' instance.")}else{var c=function(e){return document.querySelectorAll(e)}(i),s=0;c.forEach((function(o){var r=o,i=r.getAttribute("id");if(i||(i="sd_"+Math.random().toString(32).substring(2),r.setAttribute("id",i)),"1"!==r.dataset.active){var a=new e(r);a.init(),null!=t.sd[n.name].inst&&(t.sd[n.name].inst[i]=a),s++}else console.warn("Warning: Element '".concat(n.name,"' ").concat(i," already processed."))})),"_init: Initialized ".concat(s," '").concat(n.name,"' instances.")}}();t.sd[n.name].dispose=function(){var e=0;window.IB&&window.IB.sd&&window.IB.sd[n.name]&&window.IB.sd[n.name].inst&&(Object.keys(window.IB.sd[n.name].inst).forEach((function(o){var r=window.IB.sd[n.name].inst[o];r&&(r.dispose(),e++,delete t.sd[n.name].inst[o])})),"_dispose: Destroyed ".concat(e," '").concat(n.name,"' instances."))}}else console.error("Missing meta in class ",e,". Annotate it with @Component")}))}var o=function(t){window.IB=window.IB||{sd:{}};var o,r=t;r.map((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.use$)||!1})).reduce((function(e,t){return t||e}))?(o=function(){var e;"function"==typeof(null===(e=window.IB)||void 0===e?void 0:e.on$Ready)&&window.IB.on$Ready(),n(r)},e("require",(function(){window.require(["jquery"],(function(e){var t=e;window.$||(window.$=t),window.jQuery||(window.jQuery=t),t(o)}),(function(){console.error("Error requiring $. Waiting for $"),e("jQuery",(function(){window.$||(window.$=jQuery),$(o)}),(function(){console.error("Cannot find $. Bootstrap anyway!"),o()}),35)}))}),(function(){console.error("Cannot find requirejs. Waiting for $"),e("jQuery",(function(){$(o)}),(function(){console.error("Cannot find $. Bootstrap anyway!"),o()}),35)}),10)):"complete"===document.readyState?n(r):window.addEventListener("DOMContentLoaded",(function(){return n(r)}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=a((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t}));var c={name:"",author:"",version:"1.0",use$:!1};var s,l,d,f=(s={zoom:.03,maxZoom:10,initialZoom:1,initialX:.5,initialY:.5},l=function(e,t){if(e&&e.nodeName&&"IMG"===e.nodeName){var n,o,r,i,a,u,c,l,d,f={},m=function(t){e.removeEventListener("wheelzoom.destroy",m),e.removeEventListener("wheelzoom.reset",v),e.removeEventListener("load",h),e.removeEventListener("mouseup",b),e.removeEventListener("mousemove",w),e.removeEventListener("mousedown",g),e.removeEventListener("wheel",y),null!=d&&d.unobserve(e),e.style.backgroundImage=t.backgroundImage,e.style.backgroundRepeat=t.backgroundRepeat,e.src=t.src,e.style.cursor="default"}.bind(null,{backgroundImage:e.style.backgroundImage,backgroundRepeat:e.style.backgroundRepeat,src:e.src});e.addEventListener("wheelzoom.destroy",m),t=t||{},Object.keys(s).forEach((function(e){f[e]=void 0!==t[e]?t[e]:s[e]})),e.complete&&h(),e.addEventListener("load",h),null!=window.ResizeObserver&&(d=new ResizeObserver((function(){if(e.src==l){var t=Math.max(f.initialZoom,1),c=window.getComputedStyle(e,null);n=parseInt(c.width,10),o=parseInt(c.height,10),i=o*t,a=-((r=n*t)-n)*f.initialX,u=-(i-o)*f.initialY,e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px"}}))).observe(e)}function p(){a>0?a=0:a<n-r&&(a=n-r),u>0?u=0:u<o-i&&(u=o-i),e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px"}function v(){r=n,i=o,a=u=0,p()}function y(t){var c=0;t.preventDefault(),t.deltaY?c=t.deltaY:t.wheelDelta&&(c=-t.wheelDelta);var s=e.getBoundingClientRect(),l=t.pageX-s.left-window.pageXOffset,d=t.pageY-s.top-window.pageYOffset,m=(l-a)/r,y=(d-u)/i;c<0?(r+=r*f.zoom,i+=i*f.zoom):(r-=r*f.zoom,i-=i*f.zoom),f.maxZoom&&(r=Math.min(n*f.maxZoom,r),i=Math.min(o*f.maxZoom,i)),a=l-r*m,u=d-i*y,r<=n||i<=o?v():p()}function w(e){e.preventDefault(),a+=e.pageX-c.pageX,u+=e.pageY-c.pageY,c=e,p()}function b(){document.removeEventListener("mouseup",b),document.removeEventListener("mousemove",w)}function g(e){e.preventDefault(),c=e,document.addEventListener("mousemove",w),document.addEventListener("mouseup",b)}function h(){var t=Math.max(f.initialZoom,1);if(e.src!==l){var c=window.getComputedStyle(e,null);n=parseInt(c.width,10),o=parseInt(c.height,10),i=o*t,a=-((r=n*t)-n)*f.initialX,u=-(i-o)*f.initialY,function(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',l="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=l}(e),e.style.backgroundSize=r+"px "+i+"px",e.style.backgroundPosition=a+"px "+u+"px",e.style.cursor="nesw-resize",e.addEventListener("wheelzoom.reset",v),e.addEventListener("wheel",y),e.addEventListener("mousedown",g)}}},function(e,t){"function"==typeof window.btoa&&l(e,t)});function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===m(i)?i:String(i)),o)}var r,i}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g,h;o([(g={name:"zoom",author:"Josep Mulet Pol",version:"2.0"},(h=Object.assign({},c,g)).query||(h.query='[role="snptd_'.concat(h.name,'"],[data-snptd="').concat(h.name,'"]')),function(e){e.meta=h}(d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var n,o,r,i=y(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).allImgs=[],t}return n=a,(o=[{key:"initImage",value:function(e,t){this.allImgs.push(e),e.style.maxWidth="98%","1"!==e.dataset.active&&(e.dataset.active="1",f(e,t))}},{key:"init",value:function(){var e=this,n=this.parent.dataset;if("1"!==n.active){n.active="1";var o={maxZoom:t(n.maxzoom,10)};window.setTimeout((function(){"IMG"===e.parent.nodeName?e.initImage(e.parent,o):e.parent.querySelectorAll("img").forEach((function(t){return e.initImage(t,o)}))}),600)}}},{key:"dispose",value:function(){"1"===this.parent.dataset.active&&(this.parent.removeAttribute("data-active"),this.allImgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy")),e.removeAttribute("data-active")})))}}])&&p(n.prototype,o),r&&p(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(u))||d)])}();