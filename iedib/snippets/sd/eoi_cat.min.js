window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {};
        !function(){if(document.getElementById("sd_css_eoi")){return;}; var l = '.sd-speak-enabled {   position: relative;   background: whitesmoke;   text-decoration: none;   }  @keyframes speakicon_anim {   0% {    opacity: 0;    left: -10px;   }   100% {    opacity: 1;    left: -5px;   }  }  .sd-speak-enabled:hover:after {   content: "\\f025";   position: absolute;   left: -5px;   top: -16px;   background: white;   z-index:1000;   font-family: "FontAwesome";   font-size: 70%;   margin: 0px 5px;   font-weight: 700;   vertical-align:top;   animation: speakicon_anim 1s ease;  }'; var s = document.createElement('style'); s.type = 'text/css'; s.innerHTML = l; s.id="sd_css_eoi"; document.getElementsByTagName('head')[0].appendChild(s);}();
        !function(){var e="speak",t=1e3;if(window.IB.sd[e])return console.error("Warning: "+e+" loaded twice."),void(window.IB.sd[e].bind&&window.IB.sd[e].bind());var i=function(e,t){e=(e||"").toLowerCase();for(var i=0,n=null,s=(t||[]).length;s>i&&null==n;)t[i].lang.toLowerCase()==e&&(n=t[i]),i++;return n},n=function(e){var t=this;this._elem=e;var n=e.getAttribute("href").split("_")[1];"-"==e.title?e.removeAttribute("title"):e.title||(e.title="Speak!");var s=window.speechSynthesis.getVoices(),r=i(n,s);if(this.handler=null,r){var n=this._elem.getAttribute("href").split("_")[1];this.utterance=new SpeechSynthesisUtterance(e.innerText),this.utterance.voice=r,e.classList.add("sd-speak-enabled"),this.handler=function(e){e.preventDefault(),t.play()},e.addEventListener("click",this.handler)}else e.removeAttribute("href")};n.prototype.play=function(){window.speechSynthesis.cancel(),window.speechSynthesis.speak(this.utterance)},n.prototype.dispose=function(){this._elem.removeEventListener("click",this.handler),this._elem.classList.remove("sd-speak-enabled"),this._elem.removeAttribute("data-active"),this._elem.removeAttribute("title")};var s=function(e){var i=this;this._elem=e;var n=e.getAttribute("href").split("_")[1],s=e.innerText.trim();return s.length>t?(console.log("GTTS: Max length supported is "+t+" characters."),void e.removeAttribute("href")):("-"==e.title?e.removeAttribute("title"):e.title||(e.title="gTTS Speak!"),this.url="https://piworld.es/api/gtts/speak?t="+encodeURIComponent(s)+"&l="+n,this.audio=null,this.handler=function(e){e.preventDefault(),i.play()},e.addEventListener("click",this.handler),void(this.handler||this._elem.removeEventListener("click",this.handler)))};s.prototype.play=function(){s.audio?(s.audio.pause(),s.audio.currentTime=0):s.audio=new Audio(this.url),s.audio.src=this.url,s.audio.play()},s.prototype.dispose=function(){s.audio.pause(),s.audio.currentTime=0,s.audio.src=null,s.audio=null,this.handler||this._elem.removeEventListener("click",this.handler)};var r=function(e){var t=e.getAttribute("href").split("_")[1],n=window.speechSynthesis.getVoices(),s=i(t,n);return null!=s},a=function(t){for(var i=0,a=t.length;a>i;i++){var l=t[i];if(!l.classList.contains("sd-speak-enabled")){var o=l.getAttribute("id");o||(o="sd_"+Math.random().toString(32).substring(2),l.setAttribute("id",o));var d=null;d=r(l)?new n(l):new s(l),window.IB.sd[e].inst[o]=d}}window.addEventListener("unload",function(e){window.speechSynthesis.cancel()})},l={author:"Josep Mulet",version:"1.0",inst:{}};window.IB.sd[e]=l;var o=function(){var t=window.speechSynthesis,i=null!=t&&null!=window.SpeechSynthesisUtterance,n=document.querySelectorAll('a[href^="#speak_"]');if(i)(t.getVoices()||[]).length?a(n):t.addEventListener("voiceschanged",function(){a(n)});else for(var r=0,l=listElem.length;l>r;r++){var o=listElem[r];if(!o.classList.contains("sd-speak-enabled")){var d=new s(o),u=o.getAttribute("id");u||(u="sd_"+Math.random().toString(32).substring(2),o.setAttribute("id",u)),window.IB.sd[e].inst[u]=d}}};l.bind=o,l.unbind=function(){for(var e=Object.values(l.inst),t=0,i=e.length;i>t;t++)e[t].dispose();l.inst={}},o()}();