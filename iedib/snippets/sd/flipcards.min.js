window.IB = window.IB || {}; window.IB.sd = window.IB.sd || {};  
         !function(){if(document.getElementById("sd_css_flipcards.js")){return;}; var l = '.fc_wrap {   margin: auto;   position: relative;   height: 100%;   max-width: 800px;   min-height: 500px;   padding-bottom: 20px;  }  .fc_capsalera {   display: flex;   flex-direction: row;   align-items: right;   color: gray;  }  .fc_game {   transform-style: preserve-3d;   perspective: 500px;   min-height: 100%;   height: 100%;  }  @keyframes matchAnim {   0% {    background: #bcffcc;   }   100% {    background: white;   }  }  .carta {   float: left;   width: 160px;   height: 160px;   padding: 5px;   text-align: center;   display: block;   perspective: 500px;   position: relative;   cursor: pointer;   z-index: 50;   -webkit-tap-highlight-color: rgba(0, 0, 0, 0);   font-size: 80%;  }  .carta .inside {   width: 100%;   height: 100%;   display: block;   transform-style: preserve-3d;   transition: 0.4s ease-in-out;   background: white;  }  .carta .inside.picked, .carta .inside.matched {   transform: rotateY(180deg);  }  .carta .inside.matched {   animation: 1s matchAnim ease-in-out;   animation-delay: 0.4s;  }  .carta .front, .carta .back {   border: 1px solid black;   backface-visibility: hidden;   position: absolute;   top: 0;   left: 0;   width: 100%;   height: 100%;   padding: 10px;   box-shadow: 1px 1px gray;  }  .carta .front img, .carta .back img {   max-width: 100%;   display: block;   margin: 0 auto;   max-height: 100%;   position: absolute;   top: 20%;   left: 0;  }  .carta .front {   transform: rotateY(-180deg);   background: rgb(94,113,255);  }  @media (max-width: 800px) {   .carta .front {    padding: 5px;   }  }  .carta .back {   transform: rotateX(0);   background: ghostwhite;   overflow: hidden;  }  .carta .back:hover {   background: rgb(251, 250, 244);  }  @media (max-width: 800px) {   .carta .back {    padding: 10px;   }  }  '; var s = document.createElement('style'); s.type = 'text/css'; s.innerHTML = l; s.id="sd_css_flipcards.js"; document.getElementsByTagName('head')[0].appendChild(s);}();
         !function(){window.iedibAPI||console.error("REQUIRES iedibAPI loaded in page");var e=iedibAPI.getPageInfo()||{};e.rank_name="game_cards_geo_1bat";var t=function(){window.MathJax&&(window.MathJax.typesetPromise&&window.MathJax.typesetPromise(),window.MathJax.Hub&&window.MathJax.Hub.Queue&&window.MathJax.Hub.Queue(["Typeset",MathJax.Hub]))},a=function(e){return 10>e?"0"+e:e},s="\\(",r="\\)",i=0,n=$("#voltes"),c=$("#comptador");n.html("&nbsp;"+i+"&nbsp;");var d=null,o=null,l={init:function(e){this.$game=$(".fc_game"),this.$modal=$(".modal"),this.$overlay=$(".modal-overlay"),this.$restartButton=$("button.restart"),this.$restartButton.hide(),this.$startButton=$("button.start"),this.$startButton.on("click",this.onGameStart),this.allCards=e,this.cardsArray=e,this.playing=!1,this.seconds=0,this.shuffleCards(),this.setup()},shuffleCards:function(){for(var e=this.allCards.length/2,t=[],a=1;e>=a;a++)t.push(a);t=this.shuffle(t),this.cardsArray=[];for(var a=0;6>a;a++)for(var s=t[a],r=0;2*e>r;r++){var i=u[r];i.id==s&&this.cardsArray.push(i)}this.cardsArray=this.shuffle(this.cardsArray),this.$cards=$(this.cardsArray)},setup:function(){this.html=this.buildHTML(),this.$game.html(this.html),t(),this.$memoryCards=$(".carta"),this.paused=!1,this.guess=null,this.binding(),this.listRanking()},binding:function(){this.$memoryCards.on("click",this.cardClicked),this.$restartButton.on("click",$.proxy(this.reset,this))},showModal:function(e){for(var a=l,s="",r="",i="",n=0,c=a.cardsArray.length;c>n;n++){var d=a.cardsArray[n];d.id==e&&d.feed&&(s=d.feed||"",r=d.desc||""),d.id!=e||d.feed||(i=d.desc||"")}s&&($("#enunciat_modal").html(r),$("#retroaccio_modal").html(s),$("#solucio_modal").html(i),t(),$("#exampleModal").modal("show"))},cardClicked:function(){var e=l;if(e.playing){var t=$(this);if(!e.paused&&!t.find(".inside").hasClass("matched")&&!t.find(".inside").hasClass("picked")){if(t.find(".inside").addClass("picked"),e.guess)if(e.guess.attr("data-id")!=$(this).attr("data-id")||$(this).hasClass("picked"))e.guess=null,e.paused=!0,setTimeout(function(){$(".picked").removeClass("picked"),l.paused=!1},600);else{$(".picked").addClass("matched");var a=e.guess.attr("data-id");e.showModal(a),e.guess=null}else e.guess=$(this),i+=1,n.html(""+i+"&nbsp;");$(".matched").length==$(".carta").length&&e.win()}}},win:function(){var t=l;if(this.paused=!0,!d&&window.Confetti){var a=document.querySelector(".fc_wrap");d=new Confetti(a)}d&&d.play(),setTimeout(function(){if(t.$restartButton.hide(),t.$startButton.show(),o){clearInterval(o),o=null;var a=1e4-500*i;0>a&&(a=0),a=Math.floor(a*(300/(t.seconds+1)));var s=JSON.stringify({seconds:t.seconds,girs:i}),r=JSON.parse(JSON.stringify(e));r.rank_misc=s,r.rank_score=a,t.updateRanking(r),t.seconds=0,i=0}c.html(""),t.reset()},1e3)},updateRanking:function(e){var t=l;$.ajax({type:"POST",url:"https://piworld.es/iedibapi/ranking/update",data:e,dataType:"json",success:function(e){console.log(e),t.listRanking()},error:function(e){console.error(e)}})},listRanking:function(){$.ajax({type:"POST",url:"https://piworld.es/iedibapi/ranking/list",data:e,dataType:"json",success:function(t){if(Array.isArray(t)){for(var a=t.length;a--;)t[a].rank_score<=0&&t.splice(a,1);t.length>0&&($("#first_person").html(t[0].full_name),$("#first_person").attr("title",t[0].rank_score+" punts")),t.length>1?($("#second_person").html(t[1].full_name),$("#second_person").attr("title",t[1].rank_score+" punts")):$("#second_person").html("----------------------"),t.length>2?($("#third_person").html(t[2].full_name),$("#third_person").attr("title",t[2].rank_score+" punts")):$("#third_person").html("----------------------");for(var s=0,r=!1,i=t.length;i>s&&!r;)e.userFullname==t[s].full_name&&(r=!0),s+=1;r&&s>3&&$("#you_person").html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Estàs en posició "+s+"a.")}else console.error(t)},error:function(e){console.error(e)}})},onGameStart:function(e){var t=l;null!=o&&clearInterval(o),t.seconds=0,o=window.setInterval(function(){t.seconds+=1;var e=t.seconds,s=Math.floor(e/3600);e%=3600;var r=Math.floor(e/60),i=e%60;c.html(a(s)+":"+a(r)+":"+a(i))},1e3),t.$startButton.hide(),$(".carta > .inside.picked").removeClass("picked"),t.playing=!0,t.$restartButton.show()},reset:function(e){var t=l;t.$restartButton.hide(),t.$startButton.show(),null!=o&&clearInterval(o),t.seconds=0,i=0,c.html(""),n.html("&nbsp;"+i+"&nbsp;"),e&&e.preventDefault&&e.preventDefault(),this.shuffleCards(this.cardsArray),this.setup(),this.$game.show("slow")},shuffle:function(e){for(var t,a,s=e.length;s>0;)a=Math.floor(Math.random()*s),s--,t=e[s],e[s]=e[a],e[a]=t;return e},buildHTML:function(){i=0,n.html("&nbsp;"+i+"&nbsp;");var e="";return this.$cards.each(function(t,a){e+='<div class="carta" data-id="'+a.id+'"><div class="inside picked">               <div class="back">'+a.desc+'</div>               <div class="front"><img src="https://piworld.es/iedib/img/IEDIB.png"               alt="IEDIB" /></div></div>               </div>'}),e}},u=[{id:1,desc:"Una recta que té pendent "+s+"2"+r+" i que passa pel punt "+s+"(-1, -1)"+r,feed:"Si sabem un punt i el pendent, podem escriure l'equació punt-pendent "+s+"y+1=2(x+1)"+r+" i operant arribam a l'explícita "+s+"y=2x+1"+r+"."},{id:1,desc:""+s+"y=2x+1"+r},{id:2,desc:"Un vector normal a la recta "+s+"-x+2y+1=0"+r,feed:"El vector normal d'una recta expressada en forma general són directament els coeficients que acompanyen a la x i la y."},{id:2,desc:""+s+"\\vec v(-1,2)"+r},{id:3,desc:"Un vector director de la recta "+s+"y=\\dfrac{1}{2}x-1"+r,feed:"De l'equació explícita sabem que el pendent és "+s+"m=\\dfrac{1}{2}"+r+", aleshores per cada 2 unitats que avançam en x, en pujam 1. Expressat com un vector és "+s+"(2,1)"+r+"."},{id:3,desc:""+s+"\\vec v(2,1)"+r},{id:4,desc:"Un vector director de la recta "+s+"(x,y)=(-1,0)+t(1,2)"+r,feed:"El vector director en una recta en forma vectorial apareix multiplicant al paràmetre. En aquest cas "+s+"(1,2)"+r},{id:4,desc:'<img src="https://piworld.es/iedib/img/flipcards/fp0001.png" style="width:95%;margin-top:-22px;">'},{id:5,desc:"Una recta paral·lela a "+s+"\\dfrac{x+2}{1}=\\dfrac{y}{-1}"+r,feed:"D'aquesta recta en forma contínua, obtenim el vector director dels denominadors "+s+"\\vec d (1,-1)"+r+". D'aquest vector director calculam el pendent "+s+"m=-1"+r+". Llavors, ha d'ésser una recta que en forma explícita comenci per "+s+"y=-x+\\cdots"+r+"."},{id:5,desc:'<img src="https://piworld.es/iedib/img/flipcards/fp0002.png" style="width:95%;margin-top:-22px;">'},{id:6,desc:"El resultat de l'operació "+s+"2\\vec{u}-3\\vec{v}"+r+" essent "+s+"\\vec{u}(-1,3)"+r+" i "+s+"\\vec{v}(-1,2)"+r,feed:"En primer lloc multiplicam els escalars pels vectors "+s+"2(-1,3)-3(-1,2)=(-2,6)-(-3,6)"+r+". Finalment, efectuam la resta de vectors i trobam "+s+"\\vec v(1,0)"+r+". El resultat és un vector."},{id:6,desc:""+s+"\\vec v(1,0)"+r},{id:7,desc:"Un vector perpendicular al segment d'extrems "+s+"A=(3,-2)"+r+" i "+s+"B=(2,-1)"+r,feed:"En primer lloc determinam el vector fix "+s+"\\vec{AB}=(-1,1)"+r+" que serà el vector director del segment. Per trobar un vector perpendicular a aquest, giram l'ordre de les components i canviam un únic signe."},{id:7,desc:""+s+"\\vec v(1,1)"+r},{id:8,desc:"Un vector que tengui igual direcció a "+s+"(12,-8)"+r+" però sentit oposat",feed:"Si dividim el vector entre l'escalar "+s+"-4"+r+" trobam el vector "+s+"\\vec v(-2,3)"+r+". Atès que el factor és negatiu, assegura que tenen igual direcció i sentit contraris."},{id:8,desc:""+s+"\\vec v(-2,3)"+r},{id:9,desc:"L'equació de la recta que passa pels punts "+s+"A=(0,0)"+r+" i "+s+"B=(2,3)"+r,feed:"En primer lloc determinam el vector fix "+s+"\\vec{AB}=(2,3)"+r+" que serà el vector director de la recta. En forma contínua aquest vector apareix en els denominadors de l'equació."},{id:9,desc:""+s+"\\dfrac{x}{2}=\\dfrac{y}{3}"+r},{id:10,desc:"Un vector de mòdul 5",feed:"El mòdul d'un vector és l'arrel quadrada de la suma de les seves components al quadrat. "+s+"\\vec v|=\\sqrt{3^2+(-4^2)}=\\sqrt{25}=5"+r+"."},{id:10,desc:""+s+"\\vec v(3,-4)"+r},{id:11,desc:"Una recta perpendicular a "+s+"x+y+2=0"+r,feed:"De l'equació general de la recta és fàcil obtenir el seu vector normal "+s+"\\vec n(1,1)"+r+" (coeficients de x i y). La recta que es perpendicular a la donada tindrà com a vector director el mateix vector normal o qualsevol proporcional a ell. Fixem-nos que el vector "+s+"(2,2)"+r+" és proporcional a "+s+"(1,1)"+r+" per un factor 2."},{id:11,desc:""+s+"(x,y)=(-1,0)+t(2,2)"+r},{id:12,desc:"El resultat de l'operació "+s+"\\vec{a}\\cdot \\left( \\vec{b} + \\vec{c}\\right)"+r+" essent "+s+"\\vec{a}(2,-1)"+r+", "+s+"\\vec{b}(2,1)"+r+", "+s+" \\vec{c}(-3,-2)"+r,feed:"En primer lloc efectuam la suma de vectors "+s+"(2,-1)\\cdot (-1,-1)"+r+". A continuació feim el producte escalar "+s+"(2,-1)\\cdot (-1,-1)=-2+(-1)\\cdot(-1)=-2+1=-1"+r+". El resultat és un escalar."},{id:12,desc:"L'escalar "+s+"-1"+r}];l.init(u)}();